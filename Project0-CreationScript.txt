--CREATION SCRIPT FOR PROJECT0 TABLES 2/18/2021 TREVOR DUNBAR

CREATE TABLE Store (
	ID INT IDENTITY(1,1),
	Name NVARCHAR(100) NOT NULL,
	City NVARCHAR(100) NOT NULL,
	State NVARCHAR(100) NOT NULL,
	Profit MONEY NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE Customer (
	ID INT IDENTITY(1,1),
	FirstName NVARCHAR(100) NOT NULL,
	LastName NVARCHAR(100) NOT NULL,
	Email NVARCHAR(100) NOT NULL,
	Address NVARCHAR(100) NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE Product (
	ID INT IDENTITY(1,1),
	Name NVARCHAR(100) NOT NULL,
	Price MONEY NOT NULL,
	PRIMARY KEY (ID),
);

CREATE TABLE [Order] (
	ID INT IDENTITY(1,1),
	StoreID INT NOT NULL,
	CustomerID INT NOT NULL,
	TotalPrice MONEY NOT NULL,
	OrderTime DATETIME2 NOT NULL,
	PRIMARY KEY(ID),
	FOREIGN KEY (StoreID) REFERENCES Store(ID),
	FOREIGN KEY (CustomerID) REFERENCES Customer(ID),
);

CREATE TABLE StoreItem (
	ID INT IDENTITY(1,1),
	StoreID INT NOT NULL,
	ProductID INT NOT NULL,
	Quantity INT NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (StoreID) REFERENCES Store(ID),
	FOREIGN KEY (ProductID) REFERENCES Product(ID),
);

CREATE TABLE OrderItem (
	ID INT IDENTITY(1,1),
	OrderID INT NOT NULL,
	ProductID INT NOT NULL,
	Quantity INT NOT NULL,
	PRIMARY KEY (ID),
	FOREIGN KEY (OrderID) REFERENCES [Order](ID),
	FOREIGN KEY (ProductID) REFERENCES Product(ID),
);

--DROP TABLE OrderItem;
--DROP TABLE StoreItem;
--DROP TABLE Product;
--DROP TABLE [Order];
--DROP TABLE Customer;
--DROP TABLE Store;

SELECT * FROM Customer;
SELECT * FROM [Order];
SELECT * FROM OrderItem;
SELECT * FROM Product;
SELECT * FROM Store;
SELECT * FROM StoreItem;

